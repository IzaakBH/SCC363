<!DOCTYPE HTML>
<html lang="en" xmlns:th="http://www.thymeleaf.org/">
    <head>
        <title>SCC363</title>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <script type="text/javascript" th:src="@{/js/PasswordValidator.js}"></script>
        <link rel="stylesheet" href="css/style.css">
    </head>
    <body>

        <form class="container register" th:action="@{/register}" th:object="${userDTO}" method="POST">

            <div th:if="${userExistsError}">
                <p th:text="${userExistsError}"></p>
            </div>

            <br>
            <div>
                <label for="first">First name</label>
                <input name="first" th:field="*{first}" id="first" placeholder="First Name" type = "text" >
                <div style="color:red;" th:if="${#fields.hasErrors('first')}" th:errors="*{first}"/>
            </div>
            <div>
                <label for="last">Last name</label>
                <input name="last" th:field="*{last}" id="last" placeholder="Last Name"  type = "text" >
                <div style="color:red;" th:if="${#fields.hasErrors('last')}" th:errors="*{last}"/>
            </div>

            <div>
                <label for="userName">Username</label>
                <input name="userName" th:field="*{username}" id="userName" placeholder="Username" type = "text" >
                <div style="color:red;" th:if="${#fields.hasErrors('username')}" th:errors="*{username}"/>
            </div>
            <div>
                <label for="email">Email address</label>
                <input name="email" th:field="*{email}" id="email" placeholder="example@example.com" type = "text">
                <div style="color:red;" th:if="${#fields.hasErrors('email')}" th:errors="*{email}"/>
            </div>
            <div>
                <label for="password">Password</label>
                <input name="password" th:field="*{password}" id="password" placeholder="Password" type = "text" onkeyup="evaluatePassword(this)" onpaste="evaluatePassword(this)">
                <div id="rating"/>
                <div th:if="${#fields.hasErrors('password')}" th:errors="*{password}"/>
            </div>

            <br>
            <br>

            <div>
                <select id="userType" th:field="*{userType}" name="userType">
                    <option value="SYSADMIN">Sysadmin</option>
                    <option value="DOCTOR">Doctor</option>
                    <option value="NURSE">Nurse</option>
                    <option value="PATIENT">Patient</option>
                    <option value="REGULATOR">Regulator</option>
                    <option value="MEDADMIN">Medical Admin</option>
                </select>
            </div>
            <br>
            <br>

            <div>
                <button id="submit" disabled>Add user</button>
            </div>
            <br>
            <br>
            Already a member?<a href="/login">Log in </a>
            <br>
            <br>
        </form>


    </body>
</html>
